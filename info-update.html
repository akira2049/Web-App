<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Info Update</title>
  <link rel="stylesheet" href="transfer.css">
  <style>
    /* --- Extra styles just for Info Update --- */

    .subtitle{
      color:var(--muted);
      font-size:14px;
      margin-bottom:18px;
    }

    /* tabs: Password / PIN Number */
    .tabs{
      display:inline-flex;
      border-radius:999px;
      border:1px solid var(--border);
      padding:3px;
      background:#f7f7f9;
      margin-bottom:18px;
    }
    .tabs button{
      border:none;
      background:transparent;
      padding:8px 18px;
      border-radius:999px;
      font-size:14px;
      font-weight:600;
      cursor:pointer;
      color:var(--muted);
    }
    .tabs button.active{
      background:#fff;
      color:var(--primary);
      box-shadow:0 1px 4px rgba(0,0,0,.08);
    }

    .field-label{
      color:var(--muted);
      font-size:13px;
      font-weight:600;
      margin-bottom:4px;
    }

    .input-wrap{
      position:relative;
    }
    .input-wrap .toggle-eye{
      position:absolute;
      right:12px;
      top:50%;
      transform:translateY(-50%);
      font-size:16px;
      cursor:pointer;
      color:var(--muted);
    }

    .btn-primary{
      width:100%;
      text-align:center;
    }

    /* step sections */
    .wizard-step{display:none;}
    .wizard-step.active{display:block;}

    /* info type options */
    .info-grid{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:14px;
    }
    @media (max-width:640px){
      .info-grid{grid-template-columns:1fr;}
    }
    .info-opt{
      text-align:left;
      gap:12px;
    }
    .info-icon{
      width:40px; height:40px;
      border-radius:999px;
      background:#fff7d0;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      margin-bottom:8px;
      font-size:20px;
    }
    .info-title{
      font-weight:700;
      margin-bottom:2px;
    }
    .info-opt.active{
      border-color:var(--primary);
    }

    /* step caption on top */
    .steps-caption{
      font-size:12px;
      text-transform:uppercase;
      letter-spacing:.12em;
      color:var(--muted);
      margin-bottom:4px;
    }

    /* select-like buttons that open sheets */
    .select-btn{
      width:100%;
      text-align:left;
      padding:14px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      background:#fff;
      font-size:15px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      cursor:pointer;
    }
    .select-placeholder{color:#a0a2a8;}
    .select-label{
      display:flex;
      align-items:center;
      gap:8px;
    }

    /* bottom sheet */
    .sheet{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.35);
      display:none;
      align-items:flex-end;
      justify-content:center;
      z-index:50;
    }
    .sheet.active{display:flex;}
    .sheet-panel{
      width:100%;
      max-width:520px;
      background:#fff;
      border-radius:18px 18px 0 0;
      box-shadow:0 -10px 25px rgba(0,0,0,.25);
      padding:16px 18px 24px;
    }
    .sheet-header{
      text-align:left;
      margin-bottom:10px;
    }
    .sheet-bar{
      width:60px;
      height:4px;
      background:#dedfe3;
      border-radius:999px;
      margin:0 auto 12px;
    }
    .sheet-title{
      font-weight:700;
      margin-bottom:2px;
      color:var(--primary);
    }
    .sheet-sub{
      color:var(--muted);
      font-size:13px;
    }
    .sheet-list{
      margin-top:12px;
      display:grid;
      gap:8px;
    }
    .sheet-item{
      padding:10px 2px;
      border-bottom:1px solid #f0f0f3;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .sheet-item:last-child{border-bottom:none;}
    .sheet-item b{font-size:15px; color:var(--primary);}
    .sheet-item span{font-size:13px; color:var(--muted);}

    .assoc{
      margin-top:10px;
      font-size:14px;
    }
    .assoc div{margin-bottom:4px;}
    .assoc-label{color:var(--muted);}
  </style>
</head>
<body>
  <div class="app">
    <div class="topbar">
      <a class="linkish" href="dashboard.html">‚Üê Back</a>
      <span class="step" id="stepIndicator">1 / 3</span>
    </div>
    <div class="h1">Info Update</div>

    <div class="card">
      <div class="section">

        <!-- STEP 1: VERIFY -->
        <div class="wizard-step active" id="step1">
          <div class="subtitle">
            Verify to Proceed<br>
            <span class="note">Please enter your password or PIN below to proceed info update.</span>
          </div>

          <div class="tabs" id="authTabs">
            <button type="button" data-mode="password" class="active">Password</button>
            <button type="button" data-mode="pin">PIN Number</button>
          </div>

          <div>
            <div class="field-label" id="authFieldLabel">Password</div>
            <div class="input-wrap">
              <input class="input" id="authInput" type="password" placeholder="Enter password" required>
              <span class="toggle-eye" id="toggleEye">üëÅ</span>
            </div>
          </div>

          <div class="footerbar">
            <button class="btn btn-primary" id="btnToStep2" disabled>Next</button>
          </div>
        </div>

        <!-- STEP 2: CHOOSE INFO TYPE -->
        <div class="wizard-step" id="step2">
          <p class="subtitle" style="margin-top:0">
            Which information would you like to update?
          </p>

          <div class="info-grid">
            <button type="button" class="opt card info-opt" data-info="mobile">
              <div>
                <div class="info-icon">üì±</div>
                <div class="info-title">Mobile Number</div>
                <small class="note">Change your registered mobile number</small>
              </div>
            </button>

            <button type="button" class="opt card info-opt" data-info="email">
              <div>
                <div class="info-icon">üìß</div>
                <div class="info-title">Email Address</div>
                <small class="note">Update your contact email</small>
              </div>
            </button>

            <button type="button" class="opt card info-opt" data-info="mailing" style="grid-column:1/-1">
              <div>
                <div class="info-icon">üè†</div>
                <div class="info-title">Mailing Address</div>
                <small class="note">Update your communication address</small>
              </div>
            </button>
          </div>

          <div class="footerbar">
            <button class="btn btn-primary" id="btnToStep3" disabled>Next</button>
          </div>
        </div>

        <!-- STEP 3: UPDATE INFORMATION DETAILS -->
        <div class="wizard-step" id="step3">
          <div class="steps-caption">Steps 2 / 4</div>
          <div class="subtitle" style="margin-bottom:16px">
            Update Information<br>
            <span class="note">Please enter the following details.</span>
          </div>

          <div class="row">
            <div class="label">Select Type*</div>
            <div>
              <button type="button" class="select-btn" id="btnType">
                <span class="select-label">
                  <span>üè¶</span>
                  <span id="typeText" class="select-placeholder">Select type</span>
                </span>
                <span>‚åÑ</span>
              </button>
            </div>
          </div>

          <div class="row">
            <div class="label">Select account or card</div>
            <div>
              <button type="button" class="select-btn" id="btnAccount">
                <span class="select-label">
                  <span>üè¶</span>
                  <span id="accountText" class="select-placeholder">Select account or card</span>
                </span>
                <span>‚åÑ</span>
              </button>

              <div class="assoc" id="assocBlock" style="display:none">
                <div class="assoc-label">Associated Card</div>
                <div id="assocCard"><b>VISA **3908</b></div>
                <div class="assoc-label">Card Holder</div>
                <div id="cardHolder"><b>SHAHRIER EMON SHANTO</b></div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="label">Card PIN</div>
            <div class="input-wrap">
              <input class="input" id="cardPin" type="password" maxlength="6" placeholder="Enter your card PIN">
            </div>
          </div>

          <div class="footerbar">
            <button class="btn btn-primary" id="btnSubmit">Next</button>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- Bottom sheet: Select Type -->
  <div class="sheet" id="sheetType">
    <div class="sheet-panel">
      <div class="sheet-bar"></div>
      <div class="sheet-header">
        <div class="sheet-title">Select Type</div>
        <div class="sheet-sub">Select the required type for update</div>
      </div>
      <div class="sheet-list">
        <div class="sheet-item" data-type="Account">
          <b>Account</b>
          <span>Update info against your bank account</span>
        </div>
        <div class="sheet-item" data-type="Card">
          <b>Card</b>
          <span>Update info against your debit or credit card</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom sheet: Select Account -->
  <div class="sheet" id="sheetAccount">
    <div class="sheet-panel">
      <div class="sheet-bar"></div>
      <div class="sheet-header">
        <div class="sheet-title">Account Number</div>
        <div class="sheet-sub">Choose the Account Number</div>
      </div>
      <div class="sheet-list">
        <div class="sheet-item" data-account="**0072 | CAMPUS ACC.">
          <b>CAMPUS ACCOUNT</b>
          <span>14512400000072</span>
        </div>
        <!-- Add more accounts here if needed -->
      </div>
    </div>
  </div>

<script>
  // helper to switch steps
  const steps = ['step1','step2','step3'];
  function showStep(id){
    steps.forEach(s=>{
      document.getElementById(s).classList.toggle('active', s===id);
    });
    const indicator = document.getElementById('stepIndicator');
    if(id === 'step1') indicator.textContent = '1 / 3';
    if(id === 'step2') indicator.textContent = '2 / 3';
    if(id === 'step3') indicator.textContent = '3 / 3';
  }

  // STEP 1: auth input + tabs
  const authInput = document.getElementById('authInput');
  const btnToStep2 = document.getElementById('btnToStep2');
  authInput.addEventListener('input', ()=>{
    btnToStep2.disabled = authInput.value.trim().length === 0;
  });

  document.getElementById('toggleEye').addEventListener('click', ()=>{
    authInput.type = authInput.type === 'password' ? 'text' : 'password';
  });

  const tabs = document.querySelectorAll('#authTabs button');
  const authFieldLabel = document.getElementById('authFieldLabel');
  tabs.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      tabs.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      if(btn.dataset.mode === 'password'){
        authFieldLabel.textContent = 'Password';
        authInput.placeholder = 'Enter password';
        authInput.type = 'password';
      }else{
        authFieldLabel.textContent = 'PIN';
        authInput.placeholder = 'Enter PIN';
        authInput.type = 'password';
      }
      authInput.value = '';
      btnToStep2.disabled = true;
    });
  });

  btnToStep2.addEventListener('click', ()=>{
    showStep('step2');
  });

  // STEP 2: choose info type
  const infoOpts = document.querySelectorAll('.info-opt');
  const btnToStep3 = document.getElementById('btnToStep3');
  let chosenInfo = null;
  infoOpts.forEach(opt=>{
    opt.addEventListener('click', ()=>{
      infoOpts.forEach(o=>o.classList.remove('active'));
      opt.classList.add('active');
      chosenInfo = opt.dataset.info;
      btnToStep3.disabled = false;
    });
  });

  btnToStep3.addEventListener('click', ()=>{
    showStep('step3');
  });

  // Bottom sheet helpers
  function openSheet(id){ document.getElementById(id).classList.add('active'); }
  function closeSheet(id){ document.getElementById(id).classList.remove('active'); }

  // close when clicking dimmed background
  document.querySelectorAll('.sheet').forEach(sh=>{
    sh.addEventListener('click', e=>{
      if(e.target === sh) sh.classList.remove('active');
    });
  });

  // Select Type sheet
  const btnType = document.getElementById('btnType');
  const typeText = document.getElementById('typeText');
  btnType.addEventListener('click', ()=>openSheet('sheetType'));
  document.querySelectorAll('#sheetType .sheet-item').forEach(item=>{
    item.addEventListener('click', ()=>{
      const t = item.dataset.type;
      typeText.textContent = t;
      typeText.classList.remove('select-placeholder');
      closeSheet('sheetType');
    });
  });

  // Select Account sheet
  const btnAccount = document.getElementById('btnAccount');
  const accountText = document.getElementById('accountText');
  const assocBlock = document.getElementById('assocBlock');
  btnAccount.addEventListener('click', ()=>openSheet('sheetAccount'));
  document.querySelectorAll('#sheetAccount .sheet-item').forEach(item=>{
    item.addEventListener('click', ()=>{
      const display = item.dataset.account;
      accountText.textContent = display;
      accountText.classList.remove('select-placeholder');

      // populate associated card info (demo ‚Äì static)
      assocBlock.style.display = 'block';
      closeSheet('sheetAccount');
    });
  });

  // Final submit (demo)
  document.getElementById('btnSubmit').addEventListener('click', ()=>{
    if(!typeText.classList.contains('select-placeholder') &&
       !accountText.classList.contains('select-placeholder') &&
       document.getElementById('cardPin').value.trim().length >= 4){
      alert('Info update request submitted.');
    }else{
      alert('Please fill in all the required details.');
    }
  });
</script>
</body>
</html>
